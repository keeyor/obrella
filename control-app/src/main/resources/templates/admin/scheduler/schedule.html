<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5" lang="">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <title>Επεξεργασία Μετάδοσης</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" th:href="@{/css/global41.css}"/>
    <!-- CoreUI CSS -->
    <link rel="stylesheet" th:href="@{/lib/coreui41/coreui.min.css}"/>
    <!-- font awesome 5 -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/fa5/css/all.css}"/>
    <link rel="stylesheet" th:href="@{/css/datatables-dp.css}"/>


    <link rel="stylesheet" type="text/css" th:href="@{/css/wcag/wcag.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/font-css/delos.css}"/>
    <!-- classic theme datatable with various plugins -->
    <link rel="stylesheet" type="text/css" th:href="@{/lib/datatables-classic/datatables.min.css}"/>
    <!-- bootstrap-slider from: https://seiyria.com/bootstrap-slider/ -->
    <link rel="stylesheet" th:href="@{/lib/bootstrap-slider/bootstrap-slider.min.css}"/>
    <!-- datetime-picker from: https://www.malot.fr/bootstrap-datetimepicker/demo.php -->
    <link rel="stylesheet" th:href="@{/lib/datetime-picker/bootstrap-datetimepicker.min.css}"/>
    <!-- bootstrap-switch-button -->
    <link rel="stylesheet" th:href="@{/lib/bootstrap-switch-button/bootstrap-switch-button.min.css}"/>
    <!-- alertify -->
    <link rel="stylesheet" th:href="@{/lib/alertify/css/alertify.min.css}"/>
    <link rel="stylesheet" th:href="@{/lib/alertify/css/themes/semantic.min.css}"/>
    <!-- select2 -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/select2/css/select2.min.css}"/>
    <!-- time-picker-bootstrap -->
    <!-- https://www.jqueryscript.net/time-clock/time-picker-bootstrap.html -->
    <link rel="stylesheet" th:href="@{/lib/time-picker-bootstrap/timepicker.css}"/>
    <!-- bootstrap date-picker -->
    <link rel="stylesheet" th:href="@{/lib/bootstrap-datepicker/bootstrap-datepicker.min.css}"/>

    <style>
        div.dt-buttons .toggle_ {
            float: right;
        }
    </style>
    <!-- loader -->
    <link rel="stylesheet" th:href="@{/lib/loader/loader.css}"/>

</head>
<body>
<input type="hidden" id="authorized"  th:value="${authorized}"/>
<input type="hidden" id="institutionId"  th:value="${institutionId}"/>
<input type="hidden" id="editor_id"  th:value="${user.id}"/>
<!--@thymesVar id="msg_val" type="java.lang.String"-->
<input type="hidden" id="msg_val" th:value="${msg_val}"/>
<!--@thymesVar id="msg_type" type="java.lang.String"-->
<input type="hidden" id="msg_type" th:value="${msg_type}"/>

<div th:replace="~{admin/sidebar-content :: sidebar-content}"></div>
<div class="wrapper d-flex flex-column min-vh-100 bg-light" >
      <div class="loading-overlay"></div>
      <div class="loading-overlay-image-container">
          <img th:src="@{/public/images/icons/512px-Loader.gif}" class="loading-overlay-img" alt="" src=""/>
      </div>
    <header class="header header-sticky mb-4">
        <div class="container-fluid">
            <ul class="header-nav d-none d-md-flex">
                <li class="nav-item">
                    <a th:unless="${userIsStaffMemberOnly}" class="nav-link" th:href="@{/admin/scheduler/timetable}">Πρόγραμμα Μεταδόσεων</a>
                    <a th:if="${userIsStaffMemberOnly}" class="nav-link" th:href="@{/admin/scheduler/timetable}">Οι Μεταδόσεις μου</a>
                </li>
                <li class="nav-item"><a class="nav-link active" th:if="${ScheduleDTO.id != null && ScheduleDTO.id != ''}"  href="#">Επεξεργασία Μετάδοσης</a></li>
                <li class="nav-item"><a class="nav-link active" th:unless="${ScheduleDTO.id != null && ScheduleDTO.id != ''}"  th:href="@{/admin/scheduler/schedule}"> Νέα Μετάδοση</a></li>
                <li class="nav-item"><a class="nav-link" th:href="@{/admin/scheduler/calendar}">Ημερολόγιο Μεταδόσεων</a></li>
                <th:block sec:authorize="hasAnyRole('ROLE_SA')">
                    <li class="nav-item"><a class="nav-link" th:href="@{/admin/scheduler/live}">Ζωντανές Μεταδόσεις</a></li>
                </th:block>
            </ul>
            <div th:replace="~{admin/fragments/a-header-rmenu :: a-header-rmenu}"></div>
        </div>
        <div class="header-divider"></div>
        <div class="container-fluid">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb my-0 ms-2">
                    <li class="breadcrumb-item"><i class="fas fa-home me-1"></i><a th:href="@{/admin}">Αρχική</a></li>
                    <li th:if="${ScheduleDTO.id != null && ScheduleDTO.id != ''}" class="breadcrumb-item active"><span>Επεξεργασία Μετάδοσης</span></li>
                    <li th:unless="${ScheduleDTO.id != null && ScheduleDTO.id != ''}" class="breadcrumb-item active"><span>Νέα Μετάδοση</span></li>
                </ol>
            </nav>
        </div>
    </header>

    <div class="body flex-grow-1 px-3">
            <div class="container-fluid">
                <div class="row">
                    <div class="offset-1 col-lg-10" id="content">

                        <div class="card mt-2 mb-4">
                            <div class="card-header">
                                    <span style="font-size: 1.2em;font-weight: 100">
                                         <i class="fas fa-edit"></i> Επεξεργασία Μετάδοσης
                                    </span>
                                    <span class="float-end">
                                                         <!--@thymesVar id="user_scheduler_search_history" type="java.lang.String"-->
                                                         <a th:if="${ScheduleDTO.type == 'lecture'}" th:href="@{'/admin/scheduler/timetable#t-lectures'}" role="button"
                                                            class="btn btn-secondary cancel_button cancelResource_top">
                                                                <i class="fas fa-undo"></i> Επιστροφή
                                                          </a>
                                                          <a th:if="${ScheduleDTO.type == 'event'}" th:href="@{'/admin/scheduler/timetable#t-events'}" role="button"
                                                             class="btn btn-secondary cancel_button cancelResource_top">
                                                                <i class="fas fa-undo"></i> Επιστροφή
                                                          </a>
                                                          <a th:if="${ScheduleDTO.type == ''}" th:href="@{'/admin/scheduler/timetable'}" role="button"
                                                             class="btn btn-secondary cancel_button cancelResource_top">
                                                                <i class="fas fa-undo"></i> Επιστροφή
                                                          </a>
                                                          <button type="submit" title="Save Resource" class="btn blue-btn-wcag-bgnd-color text-white submit_form" id="save-button">
                                                                   <i class="fas fa-save"></i> Αποθήκευση
                                                           </button>
                                                           <button type="button" class="btn btn-danger" id="deleteSchedule" title="Διαγραφή Μετάδοσης"
                                                                   th:href="@{'/admin/scheduler/timetable' + ${user_scheduler_search_history}}">
                                                                   <i class="fas fa-trash"></i>
                                                           </button>
                                    </span>
                                    <div class="row">
                                        <div class="col-12 mt-2 ps-0">
                                            <span class="_fixed_error_msg" style="color:red;font-weight: 500"></span>
                                            <span class="_fixed_warn_msg" style="color:darkorange;font-weight: 500"></span>
                                        </div>
                                    </div>
                            </div>
                            <div class="card-body">
                                <ul class="nav nav-tabs" id="myTab" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link my-nav active me-2" id="schedule-tab" data-coreui-toggle="tab" href="#schedule-form-tab" role="tab" aria-controls="schedule-form-tab" aria-selected="true">
                                            <i class="fas fa-info me-1"></i>
                                            <span th:if="${ScheduleDTO.id != null && ScheduleDTO.id != ''}">
                                                Στοιχεία Μετάδοσης
                                            </span>
                                            <span th:if="${ScheduleDTO.id == null || ScheduleDTO.id == ''}">
                                                Νέα Μετάδοση
                                            </span>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link  my-nav me-2" id="dates-tab" data-coreui-toggle="tab" href="#schedule-dates-tab" role="tab" aria-controls="schedule-dates-tab" aria-selected="false">
                                            <i class="fas fa-calendar-alt me-1"></i><span>Ημερολόγιο Μεταδόσεων</span>
                                        </a>
                                    </li>
                                </ul>

                                <div class="tab-content">
                                    <div class="tab-pane active" id="schedule-form-tab" role="tabpanel" aria-labelledby="schedule-tab">
                                        <div class="card-body">
                                            <div class="row p-2" style="background-color: #fdf59a;">
                                                <div class="col">
                                                    <div th:if="${ScheduleDTO.id != null && ScheduleDTO.id != ''}">
                                                        <div class="text-high-emphasis" th:if="${ScheduleDTO.dateModified != null}"
                                                             th:text="${'Τελευταία Ενημέρωση: ' + ScheduleDTO.dateModified}">
                                                        </div>
                                                        <div class="text-high-emphasis" th:text="${'Επεξεργασία: ' + _s_last_editor}"></div>
                                                    </div>
                                                    <div th:if="${ScheduleDTO.id == null || ScheduleDTO.id == ''}">
                                                        <div class="text-high-emphasis" th:text="${'Επεξεργασία: ' + user.name}"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--@thymesVar id="Resource" type="org.opendelos.dashboard.model.resources.Resource"-->
                                            <form id="schedule-form" th:object="${ScheduleDTO}" th:action="@{schedule}" method="post">
                                                <input type="hidden" id="id"  th:field="*{id}" />
                                                <input type="hidden" id="_editor"  th:field="*{editor.id}" />
                                                <div class="row">
                                                    <div class="col-6">
                                                        <div class="p-2" id="_lecture"><span class="text-muted">1. Αρχικοποίηση</span></div>
                                                        <div class="p-3" style="background-color: #f7f7f9;border-top: black 1px solid;">
                                                            <input id="_active" type="hidden" th:field="*{enabled}">
                                                            <div class="form-group row">
                                                                <label for="_type" class="col-3  col-form-label emph-label">Είδος*</label>
                                                                <div class="col-5">
                                                                    <select id="_type" class="form-select" th:field="*{type}" style="width: 100%">
                                                                        <option value="lecture"> Διάλεξη</option>
                                                                        <option value="event"> Εκδήλωση</option>
                                                                    </select>

                                                                </div>
                                                            </div>
                                                            <div class="form-group row mt-3">
                                                                <label for="_repeat" class="col-3  col-form-label emph-label">Τύπος*</label>
                                                                <div class="col-5">
                                                                    <select id="_repeat" class="form-select" th:field="*{repeat}"  style="width: 100%">
                                                                        <option value="regular"> Τακτική</option>
                                                                        <option value="onetime"> Έκτακτη</option>
                                                                    </select>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- Lecture Choice-->
                                                        <div class="p-2 lecture_panel"><span class="text-muted">2. Στοιχεία Διάλεξης</span></div>
                                                        <div class="p-3 lecture_panel" style="background-color: #f7f7f9;border-top: black 1px solid;">
                                                            <!-- COURSE -->
                                                            <div class="form-group row">
                                                                <input type="hidden" id="_course" th:field="*{course.id}"/>
                                                                <label for="courses_s2" class="col-3 col-form-label emph-label">
                                                                    Μάθημα*</label>
                                                                <div class="col-9">
                                                                    <select id="courses_s2" style="width: 100%" class="form-control js-courses-tags reset_control">
                                                                        <option value=""></option>
                                                                    </select>
                                                                    <div class="form-error" th:if="${#fields.hasErrors('course.id')}" th:errors="*{course.id}"></div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row mt-3">
                                                                <input type="hidden" id="_supervisor"  th:field="*{supervisor.id}"/>
                                                                <label for="supervisor_s2" class="col-3 col-form-label emph-label">
                                                                    Διδάσκων*</label>
                                                                <div class="col-9">
                                                                    <select id="supervisor_s2" style="width: 100%" class="form-control js-staffMembers-tags reset_control">
                                                                        <option value=""></option>
                                                                    </select>
                                                                    <div class="form-error" th:if="${#fields.hasErrors('supervisor.id')}" th:errors="*{supervisor.id}"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- Event Choice-->
                                                        <div class="p-2 event_panel"><span class="text-muted">2. Στοιχεία Εκδήλωσης</span></div>
                                                        <div class="p-3 event_panel" style="background-color: #f7f7f9;border-top: black 1px solid;">
                                                            <div class="form-group row">
                                                                <input type="hidden" id="_event" th:field="*{scheduledEvent.id}"/>
                                                                <label for="events_s2" class="col-3 col-form-label emph-label">
                                                                    Επιλέξτε Εκδήλωση*</label>
                                                                <div class="col-9">
                                                                    <select id="events_s2" style="width: 100%" class="form-control js-courses-tags reset_control" >
                                                                        <option value=""></option>
                                                                    </select>
                                                                    <small class="form-text text-muted">* Εμφανίζονται μόνο Εκδηλώσεις με ενεργό ημερολόγιο</small>
                                                                    <div class="form-error" th:if="${#fields.hasErrors('scheduledEvent.id')}" th:errors="*{scheduledEvent.id}"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- Classroom/Place Choice-->
                                                        <div class="p-2 classroom_panel"><span class="text-muted">3. Αίθουσα/Χώρος</span></div>
                                                        <div class="p-3 classroom_panel" style="background-color: #f7f7f9;border-top: black 1px solid;">
                                                            <!-- CLASSROOM -->
                                                            <div class="form-group row mt-0 pt-0">
                                                                <input type="hidden" id="_classroom" th:field="*{classroom.id}"/>
                                                                <label for="classrooms_s2" class="col-3 col-form-label emph-label">
                                                                    Χώρος/Αίθουσα*</label>
                                                                <div class="col-9">
                                                                    <select id="classrooms_s2" style="width: 100%" class="form-control js-classrooms-tags reset_control">
                                                                        <option value=""></option>
                                                                    </select>
                                                                    <div class="form-error" th:if="${#fields.hasErrors('classroom.id')}" th:errors="*{classroom.id}"></div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="p-2 period_panel"><span class="text-muted">4. Περίοδος - Έτος</span></div>
                                                        <div class="p-3 period_panel" style="background-color: #f7f7f9;border-top: black 1px solid;">
                                                            <!--@thymesVar id="ayList" type="java.util.List"-->
                                                            <!--@thymesVar id="ayListText" type="java.util.List"-->
                                                            <div class="form-group row">
                                                                <label for="resource_ay" class="col-3  col-form-labe emph-label">Ακαδημαϊκό Έτος*</label>
                                                                <div class="col-5">
                                                                    <select id="resource_ay" class="form-select" th:field="*{academicYear}"  style="width: 100%">
                                                                        <option value=""></option>
                                                                        <option th:each="i, iter : ${ayList}" th:value="${i}" th:text="${ayListText[iter.index]}"></option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <!--@thymesVar id="pdList" type="java.util.HashMap<String,String>"-->
                                                            <div class="form-group row lecture_panel mt-3">
                                                                <label for="resource_pd" class="col-3  col-form-label emph-label">Περίοδος*</label>
                                                                <div class="col-5">
                                                                    <select id="resource_pd" class="form-select" th:field="*{period}" style="width: 100%">
                                                                        <option value=""></option>
                                                                        <option th:each="period: ${pdList}" th:value="${period.key}" th:text="${period.value}"></option>
                                                                    </select>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="px-2 mt-2 lecture_panel" id="period_info" style="background-color: lightgoldenrodyellow;color:black"></div>
                                                    </div>
                                                    <div class="col-6">
                                                        <div class="p-2 dayOfWeek_panel"><span class="text-muted">5. Ημερομηνίες - Ώρα - Διάρκεια</span></div>
                                                        <div class="p-3 dayOfWeek_panel" style="background-color: #f7f7f9;border-top: black 1px solid;">
                                                            <div class="form-group row dayOfWeek">
                                                                <label for="_dayOfWeek" class="col-3  col-form-label emph-label">Ημέρα*</label>
                                                                <div class="col-5">
                                                                    <select id="_dayOfWeek" class="custom-select" th:field="*{dayOfWeek}"  style="width: 100%">
                                                                        <option value=""></option>
                                                                        <option th:value="MONDAY"> Δευτέρα</option>
                                                                        <option th:value="TUESDAY"> Τρίτη</option>
                                                                        <option th:value="WEDNESDAY"> Τετάρτη</option>
                                                                        <option th:value="THURSDAY"> Πέμπτη</option>
                                                                        <option th:value="FRIDAY"> Παρασκευή</option>
                                                                        <option th:value="SATURDAY"> Σάββατο</option>
                                                                        <option th:value="SUNDAY"> Κυριακή</option>
                                                                    </select>
                                                                    <div class="form-error" th:if="${#fields.hasErrors('dayOfWeek')}" th:errors="*{dayOfWeek}"></div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row dayOfMonth">
                                                                <label for="_date" class="col-3  col-form-label emph-label">Ημερομηνία*</label>
                                                                <div class="col-5">
                                                                    <div class="input-group date">
                                                                        <span class="input-group-addon input-group-text">
                                                                            <i class="fas fa-calendar-alt"></i>
                                                                        </span>
                                                                        <input class="form-control" value="" aria-label="" id="_date" th:field="*{date}" />
                                                                        <div class="form-error" th:if="${#fields.hasErrors('date')}" th:errors="*{date}"></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row mt-3">
                                                                <label for="_timeOfDay" class="col-3  col-form-label emph-label">Ώρα Εκκίνησης*</label>
                                                                <div class="col-9">
                                                                    <div class="input-group">
                                                                        <span class="input-group-text"><i class="fas fa-clock"></i></span>
                                                                        <select id="resource_hour" style="width: 75px">
                                                                            <th:block th:each="i: ${#numbers.sequence(0, 23)}">"
                                                                                <option th:if="${i<10}" th:value="${i}" th:text="${'0' + i}"></option>
                                                                                <option th:unless="${i<10}" th:value="${i}" th:text="${i}"></option>
                                                                            </th:block>
                                                                        </select>
                                                                        <span class="input-group-text"><i class="fas fa-ellipsis-v"></i></span>
                                                                        <select id="resource_minutes" style="width: 75px">
                                                                            <th:block th:each="i: ${#numbers.sequence(0, 59)}">"
                                                                                <option th:if="${i<10}" th:value="${i}" th:text="${'0' + i}"></option>
                                                                                <option th:unless="${i<10}" th:value="${i}" th:text="${i}"></option>
                                                                            </th:block>
                                                                        </select>
                                                                        <input type="hidden" class="form-control" value="" aria-label="" id="_timeOfDay" th:field="*{startTime}"/>
                                                                    </div>
                                                                    <div class="form-error" th:if="${#fields.hasErrors('startTime')}" th:errors="*{startTime}"></div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row mt-3">
                                                                <label for="_duration_hours" class="col-3  col-form-label emph-label">Διάρκεια*</label>
                                                                <div class="col-3 form-inline">
                                                                    <input type="number" id="_duration_hours" value="0" min="0" max="12" step="1" th:field="*{durationHours}"/>
                                                                    <label for="_duration_hours" class="mσ-2">Ώρες </label>
                                                                </div>
                                                                <div class="col-3 form-inline">
                                                                    <input type="number" id="_duration_minutes" value="0" min="0" max="59" step="1" th:field="*{durationMinutes}"/>
                                                                    <label for="_duration_minutes"  class="mσ-2">Λεπτά </label>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-8 offset-3">
                                                                    <div class="form-error" th:if="${#fields.hasErrors('durationHours')}" th:errors="*{durationHours}"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="p-2 broadcast_panel"><span class="text-muted">6. Επιλογές Μετάδοσης</span></div>
                                                        <div class="p-3 broadcact_panel" style="background-color: #f7f7f9;border-top: black 1px solid;">
                                                            <div class="form-group row">
                                                                <label for="_broadcast" class="col-3  col-form-label emph-label">
                                                                    <img title="Επιλογές Μετάδοσης" th:src="@{/public/images/icons/IconMetadosi.png}" alt="">
                                                                    Μετάδοση*
                                                                </label>
                                                                <div class="col-5">
                                                                    <select id="_broadcast" class="custom-select" th:field="*{broadcast}"  style="width: 100%">
                                                                        <option th:value="1"> Μετάδοση</option>
                                                                        <option th:value="0"> Χωρίς Μετάδοση</option>
                                                                    </select>
                                                                    <div class="form-error" th:if="${#fields.hasErrors('broadcast')}" th:errors="*{broadcast}"></div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row mt-3">
                                                                <label for="_access" class="col-3  col-form-label emph-label">
                                                                    <img title="Επιλογές Πρόσβασης" th:src="@{/public/images/icons/IconMetadosiStatus.png}" alt="">
                                                                    Πρόσβαση*</label>
                                                                <div class="col-5">
                                                                    <select id="_access" class="custom-select" th:field="*{access}"  style="width: 100%">
                                                                        <option value="open"> Ανοιχτή</option>
                                                                        <option value="sso"> Με Ιδρυματικό Λογαριασμό</option>
                                                                        <option value="password"> Με Κωδικό Μετάδοσης</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row mt-3">
                                                                <label for="_password" class="col-3  col-form-label emph-label">
                                                                    <i class="fas fa-key me-2" style="font-size:1.6em;color: #5B5B5B"></i>Κωδικός Μετάδοσης*</label>
                                                                <div class="col-5 form-inline">
                                                                    <input id="_password" class="form-control" type="text" th:field="*{broadcastCode}"/>
                                                                </div>
                                                                <div class="col-auto">
                                                                    <button id="reveal_passfield" class="btn btn-light" title="εμφάνιση/απόκρυψη κωδικού"><i class="far fa-eye"></i></button>
                                                                </div>

                                                            </div>
                                                            <div class="row">
                                                                <div class="col-8 offset-3">
                                                                    <div class="form-error" th:if="${#fields.hasErrors('broadcastCode')}" th:errors="*{broadcastCode}"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="p-2 record_panel"><span class="text-muted">7. Επιλογές Καταγραφής</span></div>
                                                        <div class="p-3 record_panel" style="background-color: #f7f7f9;border-top: black 1px solid;">
                                                            <div class="form-group row">
                                                                <label for="_record" class="col-3  col-form-label emph-label">
                                                                    <img title="Επιλογές Καταγραφής" th:src="@{/public/images/icons/IconRec.png}" alt="">
                                                                    Καταγραφή*</label>
                                                                <div class="col-5">
                                                                    <select id="_record" class="custom-select" th:field="*{recording}"  style="width: 100%">
                                                                        <option th:value="1"> Καταγραφή</option>
                                                                        <option th:value="0"> Χωρίς Καταγραφή</option>
                                                                    </select>
                                                                    <div class="form-error" th:if="${#fields.hasErrors('recording')}" th:errors="*{recording}"></div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row mt-3">
                                                                <label for="_publish" class="col-3  col-form-label emph-label">
                                                                    <img title="Επιλογές Δημοσιοποίησης" th:src="@{/public/images/icons/IconRecStatus.png}" alt="">
                                                                    Δημοσίευση*
                                                                </label>
                                                                <div class="col-5">
                                                                    <select id="_publish" class="custom-select" th:field="*{publication}"  style="width: 100%">
                                                                        <option value="private"> Ιδιωτικό (απαιτείται έγκριση)</option>
                                                                        <option value="public"> Δημόσιο (άμεση δημοσίευση)</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!-- PUBLICATION OPTIONS :: YOUTUBE - FOR SA ONLY FOR NOW!!! -->
                                                        <th:block sec:authorize="hasRole('ROLE_SA')">
                                                            <th:block th:if="${ScheduleDTO.id != null && ScheduleDTO.type == 'event' && ScheduleDTO.access == 'open' && future_task}">
                                                                <div class="p-2 youtube_panel"><span class="text-muted">8. Επιλογές Μετάδοσης σε άλλους Παρόχους</span></div>
                                                                <div class="p-3 youtube_panel" style="background-color: #f7f7f9;border-top: black 1px solid;">
                                                                    <div class="form-group row">
                                                                        <label for="_record" class="col-3  col-form-label">
                                                                            <img th:src="@{/public/images/youtube.png}" alt="youtube" src="">
                                                                        </label>
                                                                        <div th:if="${ScheduleDTO.youTubeBroadcast == null || ScheduleDTO.youTubeBroadcast.broadcast == false}" class="col-9">
                                                                            <th:block th:if="${google_credentials_exist}">
                                                                                <a  href="#" id="openYouTubeDialog" title="Ενεργοποίηση Μετάδοσης YouTube"
                                                                                    th:attr="data-target=${ScheduleDTO.id}">
                                                                                    <i class="fab fa-youtube mr-2" style="color:red;"></i><b>Προγραμματισμός Μετάδοσης</b>
                                                                                </a>
                                                                                <div class="text-medium-emphasis">
                                                                                    <b>Πριν προχωρήσετε, σιγουρευτείτε ότι έχετε αποθηκεύστε την καταγραφή</b><br/>
                                                                                    O σύνδεσμος Θα ανοίξει ένα νέο αναδυόμενο παράθυρο. Όταν ολοκληρωθεί η διαδικασία, μπορεί να χρειαστεί να ανανεώστε αυτή τη σελίδα πατώντας το κουμπί Ανανέωση του περιηγητή ή το κουμπί F5
                                                                                </div>
                                                                            </th:block>
                                                                            <th:block th:unless="${google_credentials_exist}">
                                                                                <a th:href="@{/admin/youtube/grant(id=${google_client_id})}" target="_blank">
                                                                                    Παραχωρήστε τα απαραίτητα δικαιώματα στην εφαρμογή, κάνοντας κλικ εδώ.
                                                                                </a>
                                                                                <div class="text-medium-emphasis">
                                                                                    <b>Πριν προχωρήσετε, σιγουρευτείτε ότι έχετε αποθηκεύστε την καταγραφή</b><br/>
                                                                                    O σύνδεσμος Θα ανοίξει νέο παράθυρο περιηγητή. Όταν ολοκληρωθεί η διαδικασία, ανανεώστε αυτή τη σελίδα πατώντας το κουμπί Ανανέωση του περιηγητή ή το κουμπί F5
                                                                                </div>
                                                                            </th:block>
                                                                        </div>
                                                                        <div th:if="${ScheduleDTO.youTubeBroadcast != null && ScheduleDTO.youTubeBroadcast.broadcast == true}" class="col-9">
                                                                            <div class="mb-2">
                                                                                <b>Διεύθυνση Δημοσίευσης:</b>
                                                                                <div th:text="${'https://www.youtube.com/watch?v=' + ScheduleDTO.youTubeBroadcast.broadcastId}"></div>

                                                                                <a th:href="${'https://www.youtube.com/watch?v=' + ScheduleDTO.youTubeBroadcast.broadcastId}"
                                                                                   target="_blank" title="επίσκεψη">
                                                                                    <i class="fas fa-external-link-alt"></i>
                                                                                </a>
                                                                                <input type="hidden" id="copy_url_input" th:value="${'https://www.youtube.com/watch?v=' + ScheduleDTO.youTubeBroadcast.broadcastId}">
                                                                                <a class="ml-2" href="#" id="copy-url" title="αντιγραφή συνδέσμου στο πρόχειρο"><i class="far fa-copy mr-1"></i></a>
                                                                            </div>
                                                                            <div>
                                                                                <a class="mt-4 text-danger" id="unsetYouTubePublication" href="#"
                                                                                   th:attr="data-target=${ScheduleDTO.id},data-bid=${ScheduleDTO.youTubeBroadcast.broadcastId}">
                                                                                    <i class="fas fa-ban mr-2" style="color: red"></i> <b>Ακύρωση Μετάδοσης</b>
                                                                                </a>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <!--                                                        <div class="form-group row" style="border-top: lightgrey solid 1px">
                                                                                                                                <label for="_record" class="col-sm-3  col-form-label text-center">
                                                                                                                                    <i class="fab fa-facebook fa-4x"></i>
                                                                                                                                </label>
                                                                                                                                <div th:if="${ScheduleDTO.youTubeBroadcast == null || ScheduleDTO.youTubeBroadcast.broadcast == false}" class="col-sm-9">
                                                                                                                                    <a  id="openFacebookDialog" title="Ενεργοποίηση Μετάδοσης Facebook"
                                                                                                                                       th:attr="data-target=${ScheduleDTO.id}">Ενεργοποίηση Δημοσίευσης
                                                                                                                                    </a>
                                                                                                                                </div>
                                                                                                                            </div>-->
                                                                </div>
                                                            </th:block>
                                                        </th:block>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>

                                    <div class="tab-pane" id="schedule-dates-tab" role="tabpanel" aria-labelledby="schedule-tab">
                                           <div class="mt-2" style="font-weight: 500" th:if="${ScheduleDTO.id == null || ScheduleDTO.id == ''}">
                                                Αποθηκεύστε τα Στοιχεία της Μετάδοσης για τη δημιουργία του Ημερολογίου Μεταδόσεων
                                            </div>
                                        <div id="schedule_panel">
                                            <div class="card-body">

                                                <div class="row p-2" style="background-color: #fdf59a;">
                                                    <div class="col">
                                                        <div class="lecture_panel">
                                                            <div>
                                                                <div>Μάθημα: <span  style="font-style: italic" class="font-weight-bolder" id="_course_title" th:text="${ScheduleDTO.course.title}"></span>
                                                                    - Τμήμα <span  id="_department_title" th:if="${ScheduleDTO.department != null}" style="font-style: italic"
                                                                                   class="font-weight-bolder" th:text="${ScheduleDTO.department.title}">[dep]</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="event_panel">
                                                            <div>Εκδήλωση:   <span  style="font-style: italic" class="font-weight-bolder" id="_event_title" th:text="${ScheduleDTO.scheduledEvent.title}"></span>
                                                            </div>
                                                        </div>

                                                        <div>
                                                            <span th:if="${ScheduleDTO.type == 'lecture'}">Διδάσκων:</span>
                                                            <span th:unless="${ScheduleDTO.type == 'lecture'}">Επιστημονικός Υπεύθυνος ή Εκπρόσωπος:</span>
                                                            <span  style="font-style: italic" class="font-weight-bolder" id="_staff_name"
                                                                   th:text="${ScheduleDTO.supervisor.name}">
                                                            </span>
                                                        </div>
                                                        <div th:if="${ScheduleDTO.type == 'lecture'}">Περίοδος: <span   style="font-style: italic" class="font-weight-bolder" id="_period_title"
                                                                                                                        th:text="#{${ScheduleDTO.period}}"></span>
                                                            <span class="pl-2" id="_effective_dates"></span>
                                                        </div>
                                                        <div>Αίθουσα: <span  style="font-style: italic" class="font-weight-bolder" id="_classroom_name"
                                                                             th:text="${ScheduleDTO.classroom.name}"></span>
                                                        </div>
                                                        <div id="_broadcast_info" class="p-0 m-0">Μετάδοση:
                                                            <span th:if="${ScheduleDTO.broadcast && ScheduleDTO.access == 'sso'}" style="font-style: italic" class="font-weight-bolder" th:text="${' Μετάδοση - Με Ιδρυματικό Λογαριασμό'}"></span>
                                                            <span th:if="${ScheduleDTO.broadcast && ScheduleDTO.access == 'password'}" style="font-style: italic" class="font-weight-bolder" th:text="${' Μετάδοση - Με Κωδικό Πρόσβασης'}"></span>
                                                            <span th:if="${ScheduleDTO.broadcast && ScheduleDTO.access == 'open'}" style="font-style: italic" class="font-weight-bolder" th:text="${' Μετάδοση - Ανοικτή'}"></span>
                                                            <span th:unless="${ScheduleDTO.broadcast}" style="font-style: italic" class="font-weight-bolder" th:text="${'Χωρίς Μετάδοση'}"> </span>
                                                        </div>
                                                        <div id="_recording_info"  class="p-0 m-0">Καταγραφή:
                                                            <span th:if="${ScheduleDTO.recording}" style="font-style: italic" class="font-weight-bolder" th:text="${'Με Καταγραφή'}"></span>
                                                            <span th:unless="${ScheduleDTO.recording}" style="font-style: italic" class="font-weight-bolder" th:text="${'Χωρίς Καταγραφή'}"></span>
                                                        </div>
                                                        <div id="_publication_info"  class="p-0 m-0">Δημοσίευση:
                                                            <span th:if="${ScheduleDTO.publication == 'public'}" style="font-style: italic" class="font-weight-bolder" th:text="${'Δημόσιο'}"></span>
                                                            <span th:unless="${ScheduleDTO.publication == 'public'}" style="font-style: italic" class="font-weight-bolder" th:text="${'Ιδιωτικό'}"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row mt-2">
                                                    <div class="col-6 ps-0">
                                                        <div style="color: orangered" id="timetable_msg_pauses"></div>
                                                        <div style="color: orangered" id="timetable_msg_cancellations"></div>
                                                        <div style="color: orangered" id="timetable_msg_overlaps"></div>
                                                    </div>
                                                    <div class="col-6">
                                                        <button type="submit" title="Απενεργοποίηση Προγράμματος" class="btn-sm btn btn-secondary float-end mr-2" id="disable-co-button">
                                                            Απενεργοποίηση <i class="fas fa-ban"></i>
                                                        </button>
                                                        <button type="submit" title="Ενεργοποίηση Προγράμματος" class="btn-sm btn btn-secondary float-end mr-2" id="enable-co-button">
                                                            Ενεργοποίηση <i style="color:red" class="fas fa-circle-notch"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="row lecture_panel mt-2">
                                                    <div class="col-12">
                                                        <table id="schedule_table" style="width: 100%" class="display compact row-border stripe">
                                                            <thead>
                                                            <tr style="font-weight: 600">
                                                                <td style="width: 16px">#</td>
                                                                <td><i class="fas fa-plug"></i> Κατάσταση Μετάδοσης</td>
                                                                <td>[id]</td>
                                                                <td>Τύπος </td>
                                                                <td>Περίοδος </td>
                                                                <td>Ημέρα</td>
                                                                <td>Ημερομηνία</td>
                                                                <td>Ημερομ.</td>
                                                                <td>Ώρα</td>
                                                                <td>Διάρκεια</td>
                                                                <td>Διάρκεια mm</td>
                                                                <td>resource </td>
                                                                <td>Τμήμα </td>
                                                                <td>Μάθημα </td>
                                                                <td>Υπ. Καθηγητής</td>
                                                                <td>Άιθουσα / Χώρος</td>
                                                                <td style="width: 15px">Μετάδοση</td>
                                                                <td style="width: 15px">Πρόσβαση</td>
                                                                <td style="width: 15px">Καταγραφή</td>
                                                                <td style="width: 15px">Δημοσίευση</td>
                                                                <td style="width: 15px"></td>
                                                                <td style="width:0">[fromDate]</td>
                                                                <td style="width:0">[toDate]</td>
                                                                <td style="width:0">[argia]</td>
                                                                <td style="width:0">[cancellation]</td>
                                                                <td style="width:0">[overlap]</td>
                                                            </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="row event_panel mt-2">
                                                    <div class="col-12">
                                                        <table id="schedule_etable" style="width: 100%" class="row-border stripe">
                                                            <thead>
                                                            <tr style="font-weight: 600">
                                                                <td style="width: 16px">#</td>
                                                                <td style="width: 16px"><i class="fas fa-plug"></i></td>
                                                                <td>[id]</td>
                                                                <td style="width: 18px">Τύπος</td>
                                                                <td>Ημέρα</td>
                                                                <td>Ημερομηνία</td>
                                                                <td>Ημερομ.</td>
                                                                <td>Ώρα</td>
                                                                <td>Διάρκεια</td>
                                                                <td>Διάρκεια mm</td>
                                                                <td>resource </td>
                                                                <td>Τμήμα </td>
                                                                <td>Εκδήλωση </td>
                                                                <td>Άιθουσα / Χώρος</td>
                                                                <td style="width: 15px">Μετάδοση</td>
                                                                <td style="width: 15px">Πρόσβαση</td>
                                                                <td style="width: 15px">Καταγραφή</td>
                                                                <td style="width: 15px">Δημοσίευση</td>
                                                                <td style="width: 15px">[edit]</td>
                                                                <td style="width:0">[cancellation]</td>
                                                            </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
    </div>
  </div>

  <div th:replace="~{modals/logout_modal :: #logout_modal}"></div>
   <div th:replace="~{admin/scheduler/modals/youtube_publish_modal :: #youtube_publish_modal}"></div>
  <!-- Optional JavaScript -->
    <script th:src="@{/js/i18n/el.js}" type="application/javascript"></script>
  <script th:src="@{/css/jquery-3.5.1/jquery-3.5.1.js}" type="application/javascript"></script>
  <script th:src="@{/lib/coreui41/coreui.bundle.min.js}"></script>

  <script th:src="@{/lib/datatables-classic/datatables.min.js}" type="application/javascript"></script>
  <!-- required by excel button -->
  <script th:src="@{/lib/datatables-classic/jszip.min.js}" type="application/javascript" ></script>

  <script th:src="@{/css/select2/js/select2.js}" type="application/javascript"></script>
  <!-- boostrap-slider -->
  <script th:src="@{/lib/bootstrap-slider/bootstrap-slider.min.js}"></script>
  <!-- datetime-picker -->
  <script th:src="@{/lib/datetime-picker/bootstrap-datetimepicker.min.js}"></script>
  <!-- alertify -->
  <script th:src="@{/lib/alertify/alertify.min.js}"></script>
  <!-- time-picker-bootstrap -->
  <script th:src="@{/lib/time-picker-bootstrap/timepicker.js}"></script>
  <!-- bootstrap-input-spinner -->
  <script th:src="@{/lib/bootstrap-input-spinner/bootstrap-input-spinner.js}"></script>
  <!-- bootstrap datepicker -->
  <script th:src="@{/lib/bootstrap-datepicker/bootstrap-datepicker.min.js}" type="application/javascript"></script>
  <script th:src="@{/lib/bootstrap-datepicker/bootstrap-datepicker.el.min.js}" type="application/javascript"></script>
  <!-- custom -->
  <script th:src="@{/js/admin/scheduler/schedule/dashboard.js}" type="application/javascript"></script>
  <script th:src="@{/js/admin/scheduler/schedule/dashboard.staffmembers.js}" type="application/javascript"></script>
  <script th:src="@{/js/admin/scheduler/schedule/dashboard.courses.js}" type="application/javascript"></script>
  <script th:src="@{/js/admin/scheduler/schedule/dashboard.classrooms.js}" type="application/javascript"></script>
  <script th:src="@{/js/admin/scheduler/schedule/dashboard.events.js}" type="application/javascript"></script>

  <script th:src="@{/js/admin/scheduler/schedule/dashboard.lectimetable.js}" type="application/javascript"></script>
  <script th:src="@{/js/admin/scheduler/schedule/dashboard.evtimetable.js}" type="application/javascript"></script>

  <!-- bootstrap-switch-button -->
  <!-- <script  th:href="@{/lib/bootstrap-switch-button/bootstrap-switch-button.js}"></script>-->
  <script th:src="@{/lib/bootstrap-switch-button/bootstrap-switch-button.min.js}" type="application/javascript"></script>

  <script th:src="@{/js/admin/scheduler/lang/el.js}" type="application/javascript"></script>

  <script th:src="@{/css/moment/moment.min.js}" type="text/javascript" ></script>
  <script th:src="@{/css/moment/en-gb.js}" type="text/javascript" ></script>
  <script th:src="@{/css/moment/el.js}" type="text/javascript" ></script>
  <!-- loader -->
  <script th:src="@{/lib/loader/loader.js}"></script>
</body>
